<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PWS Welding Job Pricing Calculator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app" class="container">
    <header>
      <h1>PWS Welding Job Pricing Calculator</h1>
    </header>

    <main>
      <!-- Time Estimates -->
      <section class="card" id="time-section">
        <fieldset>
          <legend>Time estimates <span id="time-global-warning" class="warning" aria-live="polite"></span></legend>

          <div class="task-row">
            <label>Fit-up / assembly (hours)</label>
            <div class="inputs">
              <input type="number" id="fitMin" min="0" step="0.25" placeholder="Min" />
              <input type="number" id="fitMax" min="0" step="0.25" placeholder="Max" />
            </div>
            <div class="inline-warning" id="fit-warn"></div>
          </div>

          <div class="task-row">
            <label>Joint prep (per weld symbols) (hours)</label>
            <div class="inputs">
              <input type="number" id="prepMin" min="0" step="0.25" placeholder="Min" />
              <input type="number" id="prepMax" min="0" step="0.25" placeholder="Max" />
            </div>
            <div class="inline-warning" id="prep-warn"></div>
          </div>

          <div class="task-row">
            <label>Weld area cleaning (hours)</label>
            <div class="inputs">
              <input type="number" id="cleanMin" min="0" step="0.25" placeholder="Min" />
              <input type="number" id="cleanMax" min="0" step="0.25" placeholder="Max" />
            </div>
            <div class="inline-warning" id="clean-warn"></div>
          </div>

          <div class="task-row welding-row">
            <label>
              <input type="checkbox" id="weldingInclude" />
              Include welding time
            </label>
            <div class="inputs">
              <input type="number" id="weldMin" min="0" step="0.25" placeholder="Min" />
              <input type="number" id="weldMax" min="0" step="0.25" placeholder="Max" />
            </div>
            <div class="inline-warning" id="weld-warn"></div>
          </div>

          <div class="computed-row">
            <label>Total labor hours</label>
            <div class="computed" id="totalHoursText">—</div>
          </div>
        </fieldset>
      </section>

      <!-- Work location & rates -->
      <section class="card" id="rates-section">
        <fieldset>
          <legend>Work location & rates</legend>

          <div class="radio-row">
            <label><input type="radio" name="workLocation" id="workShop" value="shop" /> Shop only</label>
            <label><input type="radio" name="workLocation" id="workOnsite" value="onsite" /> On-site only</label>
            <label><input type="radio" name="workLocation" id="workMixed" value="mixed" /> Mixed (shop + on-site)</label>
          </div>

          <div class="rates-row">
            <div class="rate-input">
              <label>Shop hourly rate (USD)</label>
              <input type="number" id="shopRate" min="0" step="0.01" />
            </div>
            <div class="rate-input">
              <label>On-site hourly rate (USD)</label>
              <input type="number" id="onsiteRate" min="0" step="0.01" />
            </div>
          </div>

          <div id="mixed-hours" class="mixed-panel">
            <div class="task-row">
              <label>On-site hours (min / max)</label>
              <div class="inputs">
                <input type="number" id="onSiteMin" min="0" step="0.25" placeholder="Min" />
                <input type="number" id="onSiteMax" min="0" step="0.25" placeholder="Max" />
              </div>
              <div class="inline-warning" id="onsite-warn"></div>
            </div>

            <div class="computed-row">
              <label>Derived shop hours</label>
              <div class="computed">
                <div>Min: <span id="shopHoursMinText">—</span></div>
                <div>Max: <span id="shopHoursMaxText">—</span></div>
              </div>
            </div>
          </div>

        </fieldset>
      </section>

      <!-- Markup, Rush, Tax -->
      <section class="card" id="pricing-section">
        <fieldset>
          <legend>Pricing adjustments</legend>

          <div class="small-row">
            <label><input type="checkbox" id="rushToggle" /> Rush job</label>
            <label>Rush % (labor only)
              <input type="number" id="rushPercent" min="0" step="0.1" />
            </label>
            <label>Markup % (labor only)
              <input type="number" id="markupPercent" min="0" step="0.1" />
            </label>
            <label>Sales tax % (final total)
              <input type="number" id="taxPercent" min="0" step="0.1" />
            </label>
          </div>
        </fieldset>
      </section>

      <!-- Travel & mobilization -->
      <section class="card" id="travel-section">
        <fieldset>
          <legend>Travel & mobilization (optional)</legend>

          <div class="small-row">
            <label><input type="checkbox" id="travelRequired" /> Travel required</label>
          </div>

          <div id="travel-panel" class="travel-panel">
            <div class="rate-input">
              <label>Mobilization / call-out fee (USD)</label>
              <input type="number" id="travelCallout" min="0" step="0.01" />
            </div>

            <div class="rate-input">
              <label>Round-trip distance (miles/km)</label>
              <input type="number" id="travelDistance" min="0" step="0.1" />
            </div>

            <div class="rate-input">
              <label>Mileage rate (USD per mile/km)</label>
              <input type="number" id="travelMileageRate" min="0" step="0.01" />
            </div>

            <div class="rate-input">
              <label>Tolls / parking (USD)</label>
              <input type="number" id="travelTolls" min="0" step="0.01" />
            </div>
          </div>
        </fieldset>
      </section>

      <!-- Materials -->
      <section class="card" id="materials-section">
        <fieldset>
          <legend>Materials & consumables</legend>
          <div class="rate-input">
            <label>Materials & consumables (USD)</label>
            <input type="number" id="materialsCost" min="0" step="0.01" />
          </div>
        </fieldset>
      </section>

      <!-- Actions -->
      <section class="card actions">
        <div class="buttons">
          <button id="exampleBtn" class="btn">Example Values</button>
          <button id="resetBtn" class="btn">Reset</button>
          <button id="copyBtn" class="btn primary" title="Copy summary">Copy Summary</button>
        </div>
      </section>

      <!-- Summary -->
      <section class="card" id="summary-section">
        <fieldset>
          <legend>Quote Summary</legend>

          <div class="summary-grid">
            <div class="summary-row">
              <div>Total labor hours</div>
              <div id="sum_totalHours">—</div>
            </div>

            <div class="summary-row">
              <div>Shop hours (rate)</div>
              <div id="sum_shopHours">—</div>
            </div>

            <div class="summary-row">
              <div>On-site hours (rate)</div>
              <div id="sum_onsiteHours">—</div>
            </div>

            <div class="summary-row">
              <div>Labor cost</div>
              <div id="sum_laborCost">—</div>
            </div>

            <div class="summary-row">
              <div>Markup (labor)</div>
              <div id="sum_markup">—</div>
            </div>

            <div class="summary-row">
              <div>Rush amount (labor)</div>
              <div id="sum_rush">—</div>
            </div>

            <div class="summary-row strong">
              <div>Labor after markup + rush</div>
              <div id="sum_laborAfter">—</div>
            </div>

            <div class="summary-row">
              <div>Materials & consumables</div>
              <div id="sum_materials">—</div>
            </div>

            <div class="summary-row">
              <div>Travel subtotal</div>
              <div id="sum_travel">—</div>
            </div>

            <div class="summary-row strong">
              <div>Subtotal before tax</div>
              <div id="sum_subtotalBeforeTax">—</div>
            </div>

            <div class="summary-row">
              <div>Sales tax</div>
              <div id="sum_tax">—</div>
            </div>

            <div class="summary-row total strong">
              <div>Total Price Range</div>
              <div id="sum_total">—</div>
            </div>
          </div>
        </fieldset>
      </section>
    </main>

    <footer>
      <small>Keep form values editable. No external libraries.</small>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
